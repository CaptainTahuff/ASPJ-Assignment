{% extends "base.html" %}
{% block title %}Home Page{% endblock %}

{% block style %}
<style>
div.item-container{
    margin: 20px 20px;
    padding: 20px 0px 40px 52.5px;
    border: 1px #c2c2c238 solid;
    border-radius: 5px;
    background-color: WhiteSmoke;
}

div.item-container-active{
    margin: 20px 20px;
    padding: 20px 0px 40px 52.5px;
    border: 1px #c2c2c238 solid;
    border-radius: 5px;
    background-color: Purple;
    transform: scale(1.05);
}

span.item-name{
    font-weight: bold;
    word-wrap: break-word;
    width: 150px
}

span.item-price{

}

div.overlay{
    position: fixed;
    display: none;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(0,0,0,0.5);
    z-index: 2;
    cursor: pointer;
}

div.overlay-item{
    position: absolute;
    top: 50%;
    left: 50%;
    font-size: 50px;
    color: white;
    transform: translate(-50%,-50%);
    -ms-transform: translate(-50%,-50%);
}
</style>
{% endblock %}

{% block content %}

<div class="row">
<div class="col col-1"></div>
{% for i in range(length) %}
    <div class="col col-2 item-container" id="{{ products[i][1] }}">
        {% if products[i][6] is none %}
        <img src="../static/img/None.png" class="item-picture">
        {% else %}
        <img src="../static/img/{{ products[i][6] }}" class="item-picture">
        {% endif %}
        <br>
        <span class="item-name">{{ products[i][1] }}</span>
        <br>
        <span class="item-price">Price: {{ "${:.2f}".format(products[i][3]) }}</span>
    </div>

    {% if (i+1) % 4 == 0 and i != 0 %}
    </div>
    <div class="row">
    <div class="col col-1"></div>
    {% endif %}

{% endfor %}
</div>

<div class="overlay">
    <div class="overlay-item">
        <span id="item-name"></span>
    </div>
</div>
{% endblock %}

{% block function %}
<script>
$(document).ready(function(){

    // "pop up" item when mouse enters the box
    $('.item-container').on('mouseenter', function(){
        $(this).addClass('item-container-active');
    });

    // revert item when mouse leaves the box
    $('.item-container').on('mouseleave', function(){
        $(this).removeClass('item-container-active');
    });

    // show overlay when item is clicked
    $(".item-container").on('click', function(){
        $(".overlay").show();
        $("#item-name").text($(this).attr('id'))
    });

    // hide overlay when overlay is clicked
    $(".overlay").on('click', function(){
        $(".overlay").hide();
        $("#item-name").text('')
    });
})
</script>
{% endblock%}